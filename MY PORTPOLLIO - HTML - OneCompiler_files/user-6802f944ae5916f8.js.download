(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{75430:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return s(64591)}])},90550:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(74848),n=s(52064),i=s(66247),a=s(82058),l=s(96540),o=s(67310),c=s(37318),d=s(47863),u=s(94850),x=s(58782),h=s(8172);let m=e=>{let{user:t,type:s,path:m}=e,p=(0,l.useRef)(null),[j,g]=(0,l.useState)(null),[A,y]=(0,l.useState)(1),[b,v]=(0,l.useState)(null),[f,w]=(0,l.useState)(!0),[_,S]=(0,l.useState)(null),[C,k]=(0,l.useState)(e.sortBy||"recent"),B=(0,c.d4)(e=>e.user.token);async function P(){p.current=Date.now();let r=p.current,n={type:s,page:A,text:b,sortBy:C};t&&t._id&&(n["user._id"]=t._id),e.org&&e.org._id&&(n["org._id"]=e.org._id),e.team&&e.team._id&&(n["team._id"]=e.team._id);let{statusCode:i,json:a}=await (0,d.RA)("/api/posts/search",B,n);200===i?p.current==r&&(w(a.length>0),g((j||[]).concat(a)),S(null)):S("Operation timedout, please try again!")}async function N(e,t){if("deleted"===t)g(j.filter(t=>t._id!==e));else{let s=[...j];s.filter(t=>t._id===e)[0].visibility=t,g(s)}}(0,l.useEffect)(()=>{S(null),P()},[A,b,C]);let R=e=>{e!==C&&(g(null),y(1),k(e))};function q(e){return(0,r.jsx)(n.A,{component:"div",sx:e=>({marginLeft:e.spacing(6),marginTop:e.spacing(6)}),children:(0,r.jsx)(i.A,{variant:"body2",children:e.msg})})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(a.Ay,{item:!0,xs:12,md:5,children:(0,r.jsx)(u.A,{onChange:e=>{g(null),y(1),v(e||null)}})}),(0,r.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(a.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(a.Ay,{item:!0,onClick:()=>R("recent"),children:(0,r.jsx)(i.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"recent"===C?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Recent"})}),(0,r.jsx)(a.Ay,{item:!0,onClick:()=>R("top"),children:(0,r.jsx)(i.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"top"===C?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Top"})})]})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),b||s?null!==j||_?j&&j.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"scrollableDiv",children:(0,r.jsx)(o.A,{dataLength:j.length,next:()=>y(A+1),hasMore:f,loader:(0,r.jsx)(q,{msg:"Loading more data... "}),endMessage:(0,r.jsx)(q,{msg:"You have reached the end."}),children:j.length>0&&j.map((e,t)=>(0,r.jsx)(h.A,{postObj:e,path:"code"!=s?m:"".concat(e.properties.language),handlePostVisibilityUpdate:N},e._id))})})}):(0,r.jsx)(x.A,{}):(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),color:"primary",variant:"body1",children:"Start typing to search…"}),j&&0==j.length&&!_&&(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:"Nothing found!"}),_&&(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:_})]})}},94850:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(74848),n=s(91703),i=s(45931),a=s(2424),l=s(39641),o=s(77861),c=s(96540);let d=e=>{let[t,s]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let s=setTimeout(()=>{null!==t&&e.onChange(t)},500);return()=>clearTimeout(s)},[t]),(0,r.jsxs)(n.A,{variant:"outlined",sx:e=>({padding:"0px 2px",display:"flex",alignItems:"center",marginBottom:e.spacing(1)}),children:[(0,r.jsx)(i.Ay,{onChange:e=>{s(e.target.value)},value:t||"",sx:e=>({marginLeft:e.spacing(3),flex:1}),placeholder:e.placeholder||"Search...",fullWidth:!0}),t?(0,r.jsx)(a.A,{"aria-label":"search",onClick:e=>s(""),size:"large",children:(0,r.jsx)(l.A,{})}):(0,r.jsx)(a.A,{"aria-label":"search",size:"large",children:(0,r.jsx)(o.A,{})})]})}},64591:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ei});var r=s(74848),n=s(19427),i=s(52064),a=s(50039),l=s(80429),o=s(39155),c=s(72665),d=s(94191),u=s(55759),x=s(55935),h=s(55218),m=s.n(h),p=s(13368),j=s.n(p),g=s(86715),A=s(96540),y=s(37318),b=s(47863),v=s(77515),f=s(80923),w=s(82058),_=s(66247),S=s(15246),C=s(71501),k=s(80662),B=s(61187),P=s(47432),N=s(63279);function R(e){let t=(0,y.d4)(e=>e.user.plan),s=e.user,n=s.metrics,a=e.user.metrics&&e.user.metrics.views?e.user.metrics.views:0;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsxs)(w.Ay,{item:!0,sm:4,xs:12,children:[(0,r.jsx)(N.Link,{to:"/users/".concat(s._id),children:(0,r.jsx)(i.A,{component:"img",sx:{position:"relative",width:"60%",backgroundPosition:"50% 10%",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover",objectPosition:"50% 10%",marginBottom:"20px",borderRadius:"5px"},src:s.picture||"https://static.onecompiler.com/images/blank-profile.png"})}),(0,r.jsx)(_.A,{variant:"h5",gutterBottom:!0,children:s.name}),e.myaccountView&&t&&(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Plan: ".concat(t," \uD83D\uDE80")}),(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:["Joined ",(0,P.A)(new Date(s.created),{max:1,suffix:!0})]}),s.lastSeen&&(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:["Last active ",(0,P.A)(new Date(s.lastSeen),{max:1,suffix:!0})]}),s&&s.metrics&&s.metrics.views&&s.metrics.views>1&&(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:[a," profile views"]})]}),(0,r.jsxs)(w.Ay,{item:!0,sm:8,xs:12,children:[(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Contributions"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(w.Ay,{container:!0,justifyContent:"space-between",spacing:0,children:(0,r.jsx)(w.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,r.jsx)(B.cN,{end:n&&n.code?n.code:0,suffix:" ",label:"Codes",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.post?n.post:0,suffix:" ",label:"Posts",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.question?n.question:0,suffix:" ",label:"Questions",textColor:"primary",labelColor:"textPrimary"}),(0,r.jsx)(B.cN,{end:n&&n.answer?n.answer:0,suffix:" ",label:"Answers",textColor:"primary",labelColor:"textPrimary"})]})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"About"}),(0,r.jsx)(d.A,{}),(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"".concat(s.about||"User hasn’t shared anything yet.")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Orgs & Teams"}),(0,r.jsx)(d.A,{}),0===s.orgs.length&&0===s.teams.length&&(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"User hasn’t joined any orgs/ teams."}),s.orgs&&s.orgs.length>0&&s.orgs.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,r.jsxs)(i.A,{sx:e=>({marginTop:e.spacing(.4),display:"flex"}),children:[(0,r.jsx)(S.A,{alt:e.title,src:"https://res.cloudinary.com/onecompiler/image/upload/v1600366178/public/icons/university-svgrepo-com_oy3vov.svg",sx:e=>({width:e.spacing(2),height:e.spacing(2),marginRight:e.spacing(.2)})}),(0,r.jsx)(_.A,{variant:"caption",gutterBottom:!0,color:"textSecondary",children:"".concat(e.title)})]},e._id)}),(e.teams||[]).map(t=>(0,r.jsx)("div",{children:(0,r.jsx)(N.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link,"/teams/").concat(t._id,"/").concat(t.link),children:(0,r.jsxs)(i.A,{sx:e=>({marginTop:e.spacing(.4),display:"flex"}),children:[(0,r.jsx)(S.A,{alt:t.title,src:"https://res.cloudinary.com/onecompiler/image/upload/c_scale,w_94/v1604170066/public/icons/team_ncbovz.png",sx:e=>({width:e.spacing(2),height:e.spacing(2),marginRight:e.spacing(.2)})}),(0,r.jsx)(_.A,{variant:"caption",gutterBottom:!0,color:"textSecondary",children:"".concat(t.title)})]},t._id)})},t._id)),(0,r.jsx)("br",{})]},e._id))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"Challenges"}),(0,r.jsx)(d.A,{}),(!s.challenges||0===s.challenges.length)&&(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,children:"User hasn’t attempted any challenges."}),s.challenges&&s.challenges.length>0&&(0,r.jsx)(i.A,{mt:1,children:(0,r.jsx)(w.Ay,{container:!0,spacing:3,children:s.challenges.map(e=>(0,r.jsx)(w.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(C.A,{className:"oc-card2",elevation:0,children:(0,r.jsx)(N.Link,{route:"/challenges/".concat(e.challenge._id,"/").concat(e.challenge.link),children:(0,r.jsxs)(i.A,{pt:1,children:[(0,r.jsx)(_.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",children:e.challenge.title}),(0,r.jsxs)(i.A,{display:"flex",alignItems:"center",children:[(0,r.jsx)(k.Ay,{disabled:!0,sx:{height:4,"& .MuiSlider-rail":{borderRadius:10,height:4,backgroundColor:"rgb(202,211,216)"},"& .MuiSlider-track":{borderRadius:10,height:4,backgroundColor:"rgb(117,156,250)"},"& .MuiSlider-thumb":{display:"none"}},defaultValue:e.score/e.totalScore*100}),(0,r.jsxs)(i.A,{component:"span",sx:e=>({marginLeft:"8px",fontSize:"14px",color:e.palette.grey[500]}),children:[e.score,"/",e.totalScore]})]})]})})},e._id)},e._id))})})]})]})]})})}var q=s(22689),T=s(55451),I=s(12832),L=s(54798),z=s(13559),E=s(52667),F=s(2424),D=s(39641),W=s(63149),O=s(30861);let M=e=>{(0,g.useRouter)();let[t,s]=(0,A.useState)({}),n=(0,y.d4)(e=>e.user.token),[a,l]=(0,A.useState)(!1);async function o(){s({...await (0,b.Jt)("/api/users/me",n)})}async function c(t){let r=await (0,b.yJ)("/api/users/",n,t);if(!0===r.success)s({...r}),e.reset();else throw Error(r.message||r.error||"Something went wrong")}(0,A.useEffect)(()=>{o()},[]);let d=()=>l(!a);return(0,r.jsxs)(i.A,{sx:e=>({flexGrow:1,border:"1px solid #dadce0",marginBottom:"20px",padding:e.spacing(2)}),children:[(0,r.jsx)("br",{}),t.name&&(0,r.jsx)(W.l1,{enableReinitialize:!0,initialValues:{name:t.name,email:t.email,hidePicture:t.hidePicture,about:t.about},validationSchema:O.Ik().shape({name:O.Yj().min(3).max(50).required("Name is required")}),onSubmit:async(e,t)=>{let{resetForm:s,setErrors:r,setStatus:n,setSubmitting:i}=t;try{await c(e),n({success:!0}),d()}catch(e){n({success:!1}),r({submit:e.message})}finally{i(!1)}},children:e=>{let{errors:s,handleBlur:n,handleChange:a,handleSubmit:l,isSubmitting:o,touched:c,values:d}=e;return(0,r.jsxs)("form",{onSubmit:l,children:[(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsx)(w.Ay,{item:!0,md:4,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Link,{to:"/users/".concat(t._id),children:(0,r.jsx)(i.A,{component:"img",alt:"",src:t.picture||"https://static.onecompiler.com/images/blank-profile.png",sx:{position:"relative",width:"60%",backgroundPosition:"50% 10%",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover",objectPosition:"50% 10%",marginBottom:"20px",borderRadius:"5px"}})}),(0,r.jsx)(_.A,{sx:e=>({marginLeft:e.spacing(1)}),variant:"h6",gutterBottom:!0,children:t.name})]})}),(0,r.jsx)(w.Ay,{item:!0,md:8,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(T.A,{error:!!(c.name&&s.name),fullWidth:!0,helperText:c.name&&s.name,label:"User name",name:"name",onBlur:n,onChange:a,required:!0,value:d.name,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(T.A,{error:!!(c.email&&s.email),fullWidth:!0,helperText:c.email&&s.email,label:"Email",name:"email",required:!0,value:d.email,variant:"outlined",disabled:!0}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(T.A,{error:!!(c.about&&s.about),fullWidth:!0,helperText:c.about&&s.about,label:"About me",name:"about",onBlur:n,onChange:a,value:d.about||"",variant:"outlined",multiline:!0,rows:"4",maxRows:"20"}),(0,r.jsx)(I.A,{control:(0,r.jsx)(L.A,{name:"hidePicture",checked:d.hidePicture,onChange:a,value:d.hidePicture,color:"primary"}),label:"Hide Picture"})]})})]}),s.submit&&(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(z.A,{error:!0,children:s.submit})}),(0,r.jsx)(i.A,{p:2,display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"primary",disabled:o,type:"submit",variant:"contained",children:"Save"})})]})}}),(0,r.jsx)(E.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a,autoHideDuration:6e3,onClose:d,message:(0,r.jsx)("span",{id:"message-id",children:"Saved!"}),action:[(0,r.jsx)(F.A,{"aria-label":"Close",color:"inherit",onClick:d,size:"large",children:(0,r.jsx)(D.A,{})},"close")]})]})};var U=s(45793),J=s(49518);let V=(0,y.Ng)(e=>({userObj:e.user}),{userLogout:J.Ub})(e=>{(0,g.useRouter)();let t=(0,y.d4)(e=>e.user.token),[s,n]=(0,A.useState)(!1),[a,l]=(0,A.useState)(null),[o,c]=(0,A.useState)(!1),[u,h]=(0,A.useState)(""),[m,p]=(0,A.useState)(!1),j=(0,y.wA)(),v=e.user.orgs?e.user.orgs.map(e=>e.title):[];async function f(e){l((await (0,b.bE)("/api/users/email/updatePassword",t,e)).message),n(!0)}async function S(){if(m){if(!u){l("Please enter OTP"),n(!0);return}let{json:s}=await (0,b.RA)("/api/users/deleteUser",t,{_id:e.user._id,otp:u});l(s.message),n(!0),"success"===s.status&&(j((0,J.Ub)()),N.Router.pushRoute("/"))}else l((await (0,b.Jt)("/api/users/generateOTP/".concat(e.user._id),t)).message),n(!0),p(!0)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Change Password"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(W.l1,{enableReinitialize:!0,initialValues:{oldPassword:"",newPassword:""},validationSchema:O.Ik().shape({newPassword:O.Yj().min(8).required("New password is required")}),onSubmit:async(e,t)=>{let{resetForm:s,setErrors:r,setStatus:n,setSubmitting:i}=t;try{f(e),n({success:!0})}catch(e){n({success:!1}),r({submit:e.message})}finally{i(!1),s()}},children:e=>{let{errors:t,handleBlur:s,handleChange:n,handleSubmit:a,isSubmitting:l,touched:o,values:c}=e;return(0,r.jsxs)("form",{onSubmit:a,children:[(0,r.jsx)(w.Ay,{container:!0,spacing:0,children:(0,r.jsx)(w.Ay,{item:!0,md:8,xs:12,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(T.A,{error:!!(o.oldPassword&&t.oldPassword),fullWidth:!0,helperText:o.oldPassword&&t.oldPassword,label:"Old password",name:"oldPassword",onBlur:s,onChange:n,type:"password",value:c.oldPassword,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(T.A,{error:!!(o.newPassword&&t.newPassword),fullWidth:!0,helperText:o.newPassword&&t.newPassword,label:"New password",name:"newPassword",onBlur:s,onChange:n,type:"password",required:!0,value:c.newPassword,variant:"outlined"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)(_.A,{variant:"body2",gutterBottom:!0,children:[" ","Note: If you connected with Google/ Facebook, keep old password as blank"," "]})]})})}),t.submit&&(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(z.A,{error:!0,children:t.submit})}),(0,r.jsx)(i.A,{sx:{marginTop:e=>e.spacing(2)},display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"primary",disabled:l,type:"submit",variant:"contained",children:"Save"})})]})}}),(0,r.jsx)(b.UX,{data:{toggleMessage:a,snakbarOpen:s,setSnakbarOpen:n}})]}),(0,r.jsxs)(i.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Manage My Subscriptions"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(x.A,{color:"primary",variant:"outlined",onClick:()=>N.Router.pushRoute("/subscriptions"),children:"Manage Subscriptions"})]}),(0,r.jsxs)(i.A,{sx:{border:"1px solid #dadce0",marginBottom:"20px",padding:e=>e.spacing(2)},children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Delete My Account"}),(0,r.jsx)(d.A,{}),(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{gutterBottom:!0,children:"Once you delete your account, it's irreversible! To delete your account you shouldn't be part of any organization."}),0!=v.length&&(0,r.jsxs)(_.A,{gutterBottom:!0,children:["Currently you are part of ",v.join(", ")," organizations"]}),(0,r.jsx)(U.A,{children:(0,r.jsx)(I.A,{control:(0,r.jsx)(L.A,{checked:o,onChange:e=>c(e.target.checked),inputProps:{"aria-label":"controlled"},disabled:0!==v.length}),label:"I have understood the implications of deleting my profile and wish to proceed with the deletion"})}),m&&(0,r.jsx)(w.Ay,{container:!0,spacing:0,children:(0,r.jsxs)(w.Ay,{item:!0,md:8,xs:12,children:[(0,r.jsx)("br",{}),(0,r.jsx)(T.A,{fullWidth:!0,label:"OTP (Received on your registered email)",name:"otp",variant:"outlined",onChange:e=>h(e.target.value),value:u}),(0,r.jsx)("br",{})]})}),(0,r.jsx)(i.A,{sx:{marginTop:e=>e.spacing(2)},display:"flex",justifyContent:"flex-start",children:(0,r.jsx)(x.A,{color:"secondary",disabled:!o||m&&(!u||u.length<6),type:"submit",variant:"contained",onClick:S,children:m?"Confirm Delete":"Delete My Account"})})]})]})}),G=e=>{(0,g.useRouter)();let[t,s]=(0,A.useState)({}),[n,i]=(0,A.useState)(0),a=(0,y.d4)(e=>e.user.token);async function l(){s({...await (0,b.Jt)("/api/users/me",a)})}return(0,A.useEffect)(()=>{l()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Ay,{container:!0,spacing:0,children:[(0,r.jsx)(w.Ay,{item:!0,xs:12,md:2,children:(0,r.jsx)(w.Ay,{item:!0,xs:12,md:2,children:(0,r.jsxs)(w.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(w.Ay,{item:!0,onClick:()=>i(0),children:(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,color:"textSecondary",sx:e=>({cursor:"pointer",borderBottom:0===n?"2px solid ".concat(e.palette.secondary.main):"none"}),children:"General"})}),(0,r.jsx)(w.Ay,{item:!0,onClick:()=>i(1),children:(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,color:"textSecondary",sx:e=>({cursor:"pointer",borderBottom:1===n?"2px solid ".concat(e.palette.secondary.main):"none"}),children:"Account"})})]})})}),(0,r.jsx)(w.Ay,{item:!0,xs:12,md:1,children:(0,r.jsx)(d.A,{orientation:"vertical",variant:"middle",style:{margin:"auto"}})}),(0,r.jsx)(w.Ay,{item:!0,xs:12,md:9,children:(0,r.jsx)(C.A,{elevation:0,children:(0,r.jsxs)(q.A,{children:[0===n&&(0,r.jsx)(M,{...e}),1===n&&(0,r.jsx)(V,{user:t})]})})})]})})};var X=s(50969),Y=s(1771),Q=s(39990),H=s(70258),K=s(20044),Z=s(77568),$=s(78036);let ee=e=>{let[t,s]=(0,A.useState)([]),n=(0,y.d4)(e=>e.user.token);async function i(){let e=await (0,b.Jt)("/api/users/getAPIsData",n);e&&e.length>0&&s([...e])}return(0,A.useEffect)(()=>{i()},[]),(0,r.jsxs)(r.Fragment,{children:[t&&t.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"API Quotas"}),(0,r.jsx)(K.A,{children:(0,r.jsxs)(Y.A,{"aria-label":"simple table",children:[(0,r.jsx)(Z.A,{children:(0,r.jsxs)($.A,{style:{borderBottom:"1.8px solid rgba(224, 224, 224, 1)"},children:[(0,r.jsx)(H.A,{children:"_id"}),(0,r.jsx)(H.A,{children:"Name"}),(0,r.jsx)(H.A,{children:"Last accessed"}),(0,r.jsx)(H.A,{children:"Remaining Limit"}),(0,r.jsx)(H.A,{children:"Usage Metrics"})]})}),(0,r.jsx)(Q.A,{children:t.map(e=>(0,r.jsxs)($.A,{style:{borderBottom:"1.2px solid rgba(224, 224, 224, 1)"},children:[(0,r.jsxs)(H.A,{children:[" ",e._id," "]}),(0,r.jsxs)(H.A,{children:[" ",e.name," "]}),(0,r.jsxs)(H.A,{children:[" ",e.lastAccessed?"".concat((0,P.A)(new Date(e.lastAccessed))," ago"):""," "]}),(0,r.jsxs)(H.A,{children:[" ",e.limitRemaining," / ",e.limit," "]}),(0,r.jsxs)(H.A,{children:[" ",(0,r.jsx)(b.Pp,{count:0,id:e._id,hideCount:!0})," "]})]},e._id))})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),(0,r.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Reports"})," ",(0,r.jsx)("br",{}),(0,r.jsx)(N.Link,{to:"/reports/challenges/summary",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(_.A,{component:"span",style:{fontWeight:"bold"},variant:"subtitle1",color:"primary",children:"Challenges Summary Report"}),(0,r.jsx)(F.A,{color:"primary",size:"large",children:(0,r.jsx)(X.A,{className:"learn-more-link__arrow"})})]})})]})]}),(!t||0===t.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{variant:"body1",gutterBottom:!0,children:"You do not have any API subscriptions yet!"}),(0,r.jsxs)(_.A,{variant:"body1",gutterBottom:!0,children:["Please check more details on APIs here - ",(0,r.jsx)("a",{href:"/apis",children:" /apis "})]})]})]})};var et=s(90550);let es=[{value:"profile",label:"Profile"},{value:"codes",label:"Codes"},{value:"posts",label:"Posts",hide:!0},{value:"q&a",label:"Q&A",hide:!0},{value:"challenges",label:"Challenges"}],er=[...es,{value:"settings",label:"Settings"},{value:"apis",label:"APIs"}],en=()=>{let e=(0,g.useRouter)(),t=e.query.tabName?e.query.tabName:"profile",s=(0,y.d4)(e=>e.user._id),h=(0,y.d4)(e=>e.user.token),[p,w]=(0,A.useState)({}),[_,S]=(0,A.useState)(s!==e.query.id?es:er),[C,k]=(0,A.useState)(s===e.query.id),[B,P]=(0,A.useState)(t),[q,T]=(0,A.useState)(!1);async function I(){await L(),S(s!==e.query.id?es:er)}async function L(){let t=await (0,b.Jt)("/api/users/".concat(e.query.id),h);"failed"===t.status&&T(!0),w(t)}return(0,A.useEffect)(()=>{I()},[e.query.id]),(0,A.useEffect)(()=>{let t=!1;for(let e of _)e.value===B&&(t=!0);t&&e.query.tabName||(P("profile"),N.Router.pushRoute("/users/".concat(e.query.id)))},[_]),(0,A.useEffect)(()=>{P(e.query.tabName||"profile")},[e.query.tabName]),(0,r.jsxs)(n.A,{children:[(0,r.jsx)(j(),{children:(0,r.jsx)("title",{children:"".concat(p.name||""," - OneCompiler")})}),q&&(0,r.jsx)(m(),{statusCode:404}),(0,r.jsxs)("div",{style:{flexGrow:1},children:[(0,r.jsx)(f.A,{}),null!=p&&null!=p.name&&(0,r.jsx)(i.A,{sx:{marginLeft:e=>e.spacing(2)},children:(0,r.jsxs)(a.A,{children:[(0,r.jsx)(l.A,{color:"inherit",href:"/users/".concat(e.query.id),children:p.name}),(0,r.jsx)(l.A,{color:"textPrimary",href:"/users/".concat(e.query.id,"/").concat(t),"aria-current":"page",children:t})]})}),null!=p&&null!=p.name&&(0,r.jsx)(o.A,{variant:"scrollable",scrollButtons:"auto",value:B,onChange:(t,s)=>{P(s),N.Router.pushRoute("profile"===s?"/users/".concat(e.query.id):"/users/".concat(e.query.id,"/").concat(s),{shallow:!0})},children:_.filter(e=>!e.hide).map(e=>(0,r.jsx)(c.A,{label:"".concat(e.label),value:e.value},e.value))}),(0,r.jsx)(d.A,{}),null!=p&&null!=p.name&&(0,r.jsxs)(r.Fragment,{children:["profile"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(R,{user:p,myaccountView:C})})}),"codes"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(et.A,{type:"code",path:"",user:p})})}),"posts"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(i.A,{mt:3,children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/posts/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(et.A,{type:"post",path:"posts",user:p})]})}),"q&a"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(i.A,{mt:3,children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/questions/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(et.A,{type:"question",path:"questions",user:p})]})}),"challenges"===B&&(0,r.jsx)(u.A,{component:"main",maxWidth:"md",children:(0,r.jsxs)(i.A,{mt:3,children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Link,{route:"/challenges/create",children:(0,r.jsx)(x.A,{variant:"outlined",color:"primary",children:"Create"})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(et.A,{type:"challenge",path:"challenges",user:p})]})}),"settings"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(G,{user:p,reset:L})})}),"apis"===B&&(0,r.jsx)(u.A,{component:"main",children:(0,r.jsx)(i.A,{mt:3,children:(0,r.jsx)(ee,{user:p,reset:L})})})]}),(0,r.jsx)(v.A,{})]})]})};en.getInitialProps=async e=>({foo:"temp fix for missing query"});let ei=en},87703:(e,t,s)=>{"use strict";s.d(t,{In:()=>l,_V:()=>n,oJ:()=>u});var r=s(74848);let n=e=>{let{src:t,srcSet:s,alt:n="...",lazy:i=!0,lazyProps:a={width:"auto",height:"auto"},style:l={},...o}=e;return(0,r.jsx)("img",{style:{...l,width:"100%",height:"100%"},alt:n,src:t,srcSet:s,...o})};var i=s(19427),a=s(20053);let l=e=>{let{fontIconClass:t,size:s="small",fontIconColor:n,className:l,...o}=e;return(0,r.jsx)(i.A,{children:(0,r.jsx)("i",{className:(0,a.A)("icon",t,l),style:{color:n,...{extraSmall:{fontSize:"10px"},small:{fontSize:"20px"},medium:{fontSize:"30px"},large:{fontSize:"40px"}}[s]},...o})})};var o=s(50969),c=s(66247),d=s(2424);let u=e=>{let{component:t="a",variant:s="subtitle1",title:n,href:i="#",typographyProps:a={},...l}=e,u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{component:"span",style:{fontWeight:"bold"},variant:s,color:"primary",...a,children:n}),(0,r.jsx)(d.A,{sx:{padding:0,marginLeft:e=>e.spacing(1),"&:hover":{background:"transparent"}},color:"primary",size:"large",children:(0,r.jsx)(o.A,{})})]});return(0,r.jsx)("a",{href:i,style:{display:"inline-flex",alignItems:"center",textDecoration:"none"},...l,children:u})}},61187:(e,t,s)=>{"use strict";s.d(t,{cN:()=>m,IG:()=>x,X3:()=>c});var r=s(74848),n=s(96540),i=s(20053),a=s(82058),l=s(66247),o=s(52064);let c=e=>{let{title:t,titleVariant:s="h4",subtitleVariant:n,subtitle:c,subtitleColor:d,label:u,overline:x,fadeUp:h,align:m,ctaGroup:p,disableGutter:j,titleClasses:g,className:A,labelProps:y={},titleProps:b={},subtitleProps:v={},titleStyles:f={},...w}=e,_="center";return"left"===m?_="flex-start":"right"===m&&(_="flex-end"),(0,r.jsxs)(a.Ay,{container:!0,spacing:2,"data-aos":h?"fade-up":"",className:(0,i.A)("section-header",A),sx:e=>({marginBottom:j?0:{xs:e.spacing(3),md:e.spacing(4)}}),...w,children:[x&&(0,r.jsx)(a.Ay,{item:!0,container:!0,justifyContent:_,xs:12,className:"section-header__overline-wrapper",children:x}),u&&(0,r.jsx)(a.Ay,{item:!0,xs:12,className:"section-header__label-wrapper",children:(0,r.jsx)(l.A,{variant:"overline",color:"primary",component:"p",align:m||"center",...y,children:u})}),(0,r.jsx)(a.Ay,{item:!0,xs:12,className:"section-header__title-wrapper",children:(0,r.jsx)(l.A,{variant:s,align:m||"center",className:(0,i.A)("section-header__title",g),color:"textPrimary",style:f||{},sx:{fontWeight:"bold"},...b,children:t})}),c&&(0,r.jsx)(a.Ay,{item:!0,xs:12,className:"section-header__subtitle-wrapper",children:(0,r.jsx)(l.A,{variant:n||"h6",align:m||"center",color:d||"textSecondary",className:"section-header__subtitle",...v,children:c})}),p&&p.length&&(0,r.jsx)(a.Ay,{item:!0,xs:12,className:"section-header__cta-wrapper",children:(0,r.jsx)(a.Ay,{container:!0,justifyContent:_,alignItems:"center",wrap:"nowrap",className:"section-header__cta-container",children:p.map((e,t)=>(0,r.jsx)(o.A,{className:(0,i.A)("section-header__cta-item-wrapper"),sx:{marginLeft:e=>t>0?e.spacing(1):0},children:e},t))})})]})};var d=s(15246),u=s(87703);let x=e=>{let{iconProps:t={},fontIconClass:s,size:n="medium",color:a,shape:l="square",iconComponent:o,iconComponentColor:c,className:x,src:h,...m}=e,p={extraSmall:{width:20,height:20},small:{width:50,height:50},medium:{width:70,height:70},large:{width:90,height:90}};return(0,r.jsx)(d.A,{className:(0,i.A)("icon-alternate",x),src:h,...m,sx:e=>({background:c||(null==a?void 0:a[300])||e.palette.background.default,...p[n]||{},borderRadius:"circle"===l?"50%":e.spacing(2)}),children:!h&&(o||(0,r.jsx)(u.In,{size:n,fontIconClass:s,fontIconColor:(null==a?void 0:a[500])||theme.palette.text.primary,className:"icon-alternate__icon",...t}))})};var h=s(64856);let m=e=>{let{start:t=0,end:s,suffix:a,prefix:o,label:c,textColor:d,labelColor:u,className:x,visibilitySensorProps:m={},wrapperProps:p={},countWrapperProps:j={},countNumberProps:g={},labelProps:A={},...y}=e,[b,v]=n.useState(!0);return(0,r.jsx)("div",{className:(0,i.A)("countup-number",x),...y,children:(0,r.jsxs)("div",{className:"countup-number__wrapper",...p,children:[(0,r.jsx)(l.A,{variant:"h4",gutterBottom:!0,align:"center",color:d||"textPrimary",className:"countup-number__count-wrapper",...j,children:(0,r.jsx)(h.Ay,{delay:0,redraw:!1,end:b?s:t,start:t,suffix:a||"",prefix:o||"",className:"countup-number__count",...g})}),(0,r.jsx)(l.A,{variant:"subtitle1",color:u||"textSecondary",align:"center",className:"countup-number__label",...A,children:c})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2611,531,863,7840,3910,930,7862,8773,2101,3091,5322,1884,9637,3554,7035,2431,8556,9686,6799,2203,3149,1932,861,7056,8847,923,1434,636,6593,8792],()=>t(75430)),_N_E=e.O()}]);